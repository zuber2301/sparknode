# Custom SparkNode Postgres configuration for WAL-G
# Enable WAL-G archiving to S3

# Write-Ahead Log
wal_level = replica
archive_mode = on

# Archiving command (executes inside the container)
# We assume WAL-G is available in the image or mounted/installed
archive_command = 'wal-g wal-push %p'

# Recovery settings (if needed)
restore_command = 'wal-g wal-fetch %f %p'

# Optimization
archive_timeout = 60
max_wal_senders = 10
